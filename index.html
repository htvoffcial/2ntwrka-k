
<html>
  <head>
    <!--ãƒ¡ã‚¿æƒ…å ±ã€€åŠã³ã€€å¤–éƒ¨ã‚¹ã‚¯ãƒªãƒ—ãƒˆèª­ã¿è¾¼ã¿-->
    <!--(c) 2022 ã¯ã‚‹ã¯ã‚‹-->
    <meta charset="utf-8" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <meta name="viewport" content="width=device-width,initial-scale=1.0,minimum-scale=1.0">
   <meta property="og:title" content="å–œã³ã‚’å…±æœ‰ã™ã‚‹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ">
<meta property="og:url" content="https://moonlit-bonbon-7751df.netlify.app/%E5%96%9C%E3%81%B3">
<meta property="og:description" content="å–œã³ã‚’åˆ†ã‹ã¡åˆã†">
<meta property="og:type" content="website">
<meta property="og:image" content="https://moonlit-bonbon-7751df.netlify.app/%E5%96%9C%E3%81%B3/ogp.png">
    <!--ãƒ¡ã‚¿æƒ…å ±ã€€åŠã³ã€€å¤–éƒ¨ã‚¹ã‚¯ãƒªãƒ—ãƒˆèª­ã¿è¾¼ã¿ of çµ‚ã‚ã‚Š-->
  </head>
  <body>
  <topbar></topbar>
    <!--ãƒšãƒ¼ã‚¸å†…ã‚³ãƒ³ãƒ†ãƒ³ãƒ„-->
     <div id="toppage" class="page">
ã€€ã€€ã€€<!-- ãƒšãƒ¼ã‚¸1 -->
         <center><img src="content1.gif" id="logo"><br>

            <div id="todayresult">
            </div>
         <share onclick="push()"></share>
        </center>
         <center><bmg>&copy;2023 3-2 /<a href="info.html#all">ã“ã®ã‚µã‚¤ãƒˆã®è©³ç´°</a><br>â€»æ•°å€¤ã¯ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ã§ã¯ãªã„å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™</bmg></center>
     </div>
 <div id="tmp"></div>
     <div id="spop">
      <p id="dp"></p>
     </div>
     <script>
var userd1;

$(document).ready(function() {
  $.ajax({
    url: "https://script.google.com/macros/s/AKfycbwKiXHATrxOrYLQWPct4AIYqeFDcMO9ihhHIx5jeUOs2TZMsQGpHT_5dD8q-9o2Rzdh/exec",
    method: "POST",
    data: {
      action: "getUserData",
      username: "admin" // ãƒ­ã‚°ã‚¤ãƒ³ã—ãŸãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼åã‚’è¨­å®š
    },
    success: function(response) {
      userd1 = JSON.parse(response);
      localStorage.setItem("pushon", userd1[3]);
      if (localStorage.getItem("pushon") || localStorage.getItem("pushlo")) {
        var pussh = localStorage.getItem("pushon");
        var crt = localStorage.getItem("pushlo");
        document.getElementById("todayresult").innerHTML = "<span style='font-size:100px;font-weight:bold;'>" + crt + "</span><span style='font-size:50px;'>/25å›</span><br><span style='font-size:30px;font-weight:bold;'>ã“ã‚Œã¾ã§ã®åˆè¨ˆ(ã‚¢ã‚«ã‚¦ãƒ³ãƒˆé€£æº):" + pussh + "</span>";
      } else {
        var pussh = 0;
        localStorage.setItem("pushon", pussh);
        var crt = 0;
        localStorage.setItem("pushlo", crt);
      };
    },
    error: function() {
      alert("ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‡ãƒ¼ã‚¿ã®å–å¾—ä¸­ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚");
    }
  });
});

function resetLocalStorage() {
  const today = new Date().toLocaleDateString(); // ç¾åœ¨ã®æ—¥ä»˜ã‚’å–å¾—
  const pushsuiiData = localStorage.getItem("pushsuii"); // ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—

  if (pushsuiiData) {
    const { date, count } = JSON.parse(pushsuiiData);
    if (date !== today) {
      localStorage.removeItem("pushon");
      localStorage.setItem("pushsuii", JSON.stringify({ date: today, count: 0 }));
    }
  } else {
    localStorage.setItem("pushsuii", JSON.stringify({ date: today, count: 0 }));
  }
}

var fflag = 0;

function push() {
  let crt = parseInt(localStorage.getItem("pushlo") || 0) + 1;
  localStorage.setItem("pushlo", crt);
  let pussh = parseInt(localStorage.getItem("pushon") || 0);
  document.getElementById("todayresult").innerHTML = "<span style='font-size:100px;font-weight:bold;'>" + crt + "</span><span style='font-size:50px;'>/25å›</span><br><span style='font-size:30px;font-weight:bold;'>ã“ã‚Œã¾ã§ã®åˆè¨ˆ(ã‚¢ã‚«ã‚¦ãƒ³ãƒˆé€£æº):" + pussh + "</span>";
  resetLocalStorage(); // æ—¥ä»˜ãŒå¤‰ã‚ã£ãŸå ´åˆã®å‡¦ç†
  gchg();
}

function gchg() {
  var currentDate = new Date();
  fflag++;
  if (fflag == 3) {
    var aar = [...userd1];
    aar[3] = parseInt(aar[3]) + parseInt(localStorage.getItem("pushlo"));
    console.log(aar);
    $.post("https://script.google.com/macros/s/AKfycbwKiXHATrxOrYLQWPct4AIYqeFDcMO9ihhHIx5jeUOs2TZMsQGpHT_5dD8q-9o2Rzdh/exec", { action: "updateUserData", username: "admin", newData: JSON.stringify(aar) });

    fflag = 0;
  }
}

    </script>
    <style>
      #todayresult{
        margin-top: 50px;
        color:#21A0DB;
      }
     close:after{
       display:inline-block;
       color:#fff;
       position:absolute;
       bottom:20px;
       font-weight:bold;
       content:"é–‰ã˜ã‚‹";
       padding:4 15 4 15;
       background-color:#21A0DB;
       text-align:center;
       margin-top:2vw;
       border-radius:10px;
      }
     #dp{
       margin-top:2vw;
       margin-left:2vw;
     }
     report:after{
      content:"å•é¡Œã®ã‚ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’å ±å‘Šã™ã‚‹ğŸš¨";
      margin-left:2vw;
      cursor:pointer;
      font-weight:bold;
      font-size:10px;
     }
     #spop{
       position:absolute;
       bottom:0;
       left:0px;
       z-index:1000;
       border-radius:20px 20px 0px 0px;
       background:#e0e0e0;
       width:100%;
       height: 0%;
     }
    .pp{
      display:block;
      animation:popup 0.3s ease-out forwards;
     }
     bmg{
      display:block;
      width:100%;
      position:absolute;
      bottom:10px;
      color:#a1a3a6;
     }
     #logo{
        width:230px;
       margin-top:5vw;
     }
     #sharepage{
      width:100%;
      display:none;
      height:calc(100% - 60px);
     }
      share:after{
       display:inline-block;
       margin-top:2vw;
       content:"ã‚ã‚ŠãŒã¨ã†!";
       color:#fff;
       font-weight:bold;
       padding:5vw 2.7vw 5vw 2.7vw;
       background-color:#21A0DB;
       border-radius:50%;
      }
      #toppage{
        width:100%;
        height:calc(100% - 60px);
      }
      a{
       text-decoration:none;
       margin-left:5px;
      }
      .page{
        position:absolute;
        top:56px;
        left:0px;
      }
      topbar:after{
        content:"ã‚ã‚ŠãŒã¨ã†3000å›ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ";
      }
      topbar {
        display: block;
        position: absolute;
        top: 0;
        left: 0;
        background-color: #ffcccc;
        padding: 16px 0px 16px 30px;
        width: calc(100% - 30px);
        color: #fff;
      }
     @keyframes popup {
        0% {
        bottom: 0%;
       }
       100% {
        bottom: 0%;
        height: 20%;
       }
     }
     @media screen and (max-width: 480px) {
       #logo{
       margin-top:20vw;
       }
      share:after{
       display:inline-block;
       margin-top:30vw;
       content:"ã‚ã‚ŠãŒã¨ã†";
       color:#fff;
       font-weight:bold;
       padding:16vw 15vw 160vw 15vw;
       background-color:#21A0DB;
       border-radius:50%;
      }
     }
     
    </style>
    <!--ãƒšãƒ¼ã‚¸å†…ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ of çµ‚ã‚ã‚Š-->
  </body>
</html>
